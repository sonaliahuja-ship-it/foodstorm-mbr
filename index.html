<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodStorm MBR - February 2026 - Executive Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .metric-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        [contenteditable="true"] {
            outline: 2px dashed #667eea;
            outline-offset: 4px;
            padding: 4px;
            border-radius: 4px;
        }
        .edit-mode-banner {
            background: #fbbf24;
            color: #92400e;
            padding: 12px;
            text-align: center;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Login Screen -->
    <div id="login-screen" class="min-h-screen flex items-center justify-center gradient-bg">
        <div class="bg-white rounded-2xl shadow-2xl p-10 max-w-md w-full">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">üîí</div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">FoodStorm MBR</h1>
                <p class="text-gray-600">February 2026 - Executive Dashboard</p>
            </div>
            <input
                type="password"
                id="password"
                placeholder="Enter access code"
                class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg mb-4 focus:border-purple-500 focus:outline-none"
                onkeypress="if(event.key==='Enter') checkPassword()"
            />
            <button
                onclick="checkPassword()"
                class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-indigo-700 transition"
            >
                Access Dashboard
            </button>
            <p id="error" class="text-red-500 text-sm mt-3 text-center hidden">Incorrect password</p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden">
        <!-- Edit Mode Banner -->
        <div id="edit-banner" class="edit-mode-banner hidden">
            ‚úèÔ∏è EDIT MODE ACTIVE - Click any text to edit. Changes save automatically to your browser.
            <button onclick="toggleEditMode()" class="ml-4 px-4 py-1 bg-white text-yellow-700 rounded font-semibold">
                Exit Edit Mode
            </button>
        </div>

        <!-- Header -->
        <div class="gradient-bg text-white sticky top-0 z-50 shadow-lg">
            <div class="max-w-7xl mx-auto px-6 py-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold mb-1" contenteditable="false" data-key="title">FoodStorm MBR - February 2026</h1>
                        <p class="text-purple-100" contenteditable="false" data-key="subtitle">CSM DRI: Sonali Ahuja | L4W Ending [1/16 ‚Äì 2/16]</p>
                    </div>
                    <div class="flex gap-3">
                        <button onclick="toggleEditMode()" class="px-5 py-2 bg-white text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition">
                            ‚úèÔ∏è Edit Mode
                        </button>
                        <button onclick="logout()" class="px-5 py-2 bg-purple-800 text-white rounded-lg font-semibold hover:bg-purple-900 transition">
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Executive Summary -->
        <div class="max-w-7xl mx-auto px-6 py-8">
            <!-- Key Metrics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="metric-card bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="text-4xl mb-2">üìä</div>
                    <div class="text-3xl font-bold mb-1" contenteditable="false" data-key="total-accounts">16</div>
                    <div class="text-blue-100 text-sm">Active Accounts</div>
                </div>
                <div class="metric-card bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="text-4xl mb-2">üí∞</div>
                    <div class="text-3xl font-bold mb-1" contenteditable="false" data-key="total-gtv">$1.2M</div>
                    <div class="text-green-100 text-sm">Total GTV (L4W)</div>
                </div>
                <div class="metric-card bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="text-4xl mb-2">üìà</div>
                    <div class="text-3xl font-bold mb-1" contenteditable="false" data-key="growth-rate">+18%</div>
                    <div class="text-purple-100 text-sm">Avg YoY Growth</div>
                </div>
                <div class="metric-card bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="text-4xl mb-2">‚ö†Ô∏è</div>
                    <div class="text-3xl font-bold mb-1" contenteditable="false" data-key="critical-accounts">1</div>
                    <div class="text-orange-100 text-sm">Critical Attention Needed</div>
                </div>
            </div>

            <!-- Charts Row -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Performance Chart -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Account Performance Overview</h3>
                    <canvas id="performanceChart"></canvas>
                </div>

                <!-- Health Status -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Portfolio Health Status</h3>
                    <canvas id="healthChart"></canvas>
                </div>
            </div>

            <!-- Top Performers & At Risk -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Top Performers -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">üèÜ Top Performers</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Eataly</div>
                                <div class="text-sm text-gray-600">52.4% M1 Retention | +26% GTV YoY</div>
                            </div>
                            <div class="text-2xl">üåü</div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Market 32 / Price Chopper</div>
                                <div class="text-sm text-gray-600">+27% GTV | Strong IC Loyalty Impact</div>
                            </div>
                            <div class="text-2xl">üìà</div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Coborn's</div>
                                <div class="text-sm text-gray-600">66 Stores | +23% GTV | 4 Banners</div>
                            </div>
                            <div class="text-2xl">üéØ</div>
                        </div>
                    </div>
                </div>

                <!-- At Risk / Needs Attention -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">‚ö†Ô∏è Needs Attention</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Balducci's</div>
                                <div class="text-sm text-gray-600">CRITICAL: -37% GTV | -60% Activations</div>
                            </div>
                            <div class="text-2xl">üö®</div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Roche Bros</div>
                                <div class="text-sm text-gray-600">-10% Sales | -7% Orders YoY</div>
                            </div>
                            <div class="text-2xl">‚ö†Ô∏è</div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
                            <div>
                                <div class="font-semibold text-gray-800" contenteditable="false">Bi-Rite</div>
                                <div class="text-sm text-gray-600">-36% Activations | Multiple PCRs Delayed</div>
                            </div>
                            <div class="text-2xl">üìâ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Strategic Initiatives -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">üéØ Strategic Initiatives - Q1 2026</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="p-5 bg-blue-50 rounded-xl border-2 border-blue-200">
                        <div class="text-3xl mb-3">üîó</div>
                        <h4 class="font-bold text-gray-800 mb-2" contenteditable="false">IC App Integration</h4>
                        <p class="text-sm text-gray-600 mb-3" contenteditable="false">9 accounts with IC App initiatives planned or in progress</p>
                        <div class="text-xs text-gray-500" contenteditable="false">Market32, Sunset, DeCicco, Lee's, Lunds, Joseph's, Straub, Cardona's, Bi-Rite</div>
                    </div>
                    <div class="p-5 bg-purple-50 rounded-xl border-2 border-purple-200">
                        <div class="text-3xl mb-3">üå∏</div>
                        <h4 class="font-bold text-gray-800 mb-2" contenteditable="false">Floral Expansion</h4>
                        <p class="text-sm text-gray-600 mb-3" contenteditable="false">~$1M+ incremental GMV opportunity across 4 accounts</p>
                        <div class="text-xs text-gray-500" contenteditable="false">Roche Bros ($300K), Market32 ($500K), Tops ($200K), Harmons</div>
                    </div>
                    <div class="p-5 bg-green-50 rounded-xl border-2 border-green-200">
                        <div class="text-3xl mb-3">üîÑ</div>
                        <h4 class="font-bold text-gray-800 mb-2" contenteditable="false">Platform Migrations</h4>
                        <p class="text-sm text-gray-600 mb-3" contenteditable="false">V2‚ÜíV3 cart upgrades for cleaner financials & reporting</p>
                        <div class="text-xs text-gray-500" contenteditable="false">Albertsons (Kings & Balducci's) - 39 locations</div>
                    </div>
                </div>
            </div>

            <!-- Detailed Account Cards -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">üìã Account Details</h3>
                <div class="space-y-4">
                    <!-- Account Template (repeatable) -->
                    <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow p-6 border-l-4 border-purple-500">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h4 class="text-2xl font-bold text-gray-800 mb-2" contenteditable="false" data-key="acct1-name">Uncle Giuseppe's Marketplace</h4>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">11 Stores Live</span>
                                    <span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-semibold">ECR POS Issue</span>
                                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">5.0 Rating</span>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-4">
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">GTV</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$278K</div>
                                <div class="text-xs text-green-600 font-semibold">+12%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Orders</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">7,000</div>
                                <div class="text-xs text-green-600 font-semibold">+6%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Basket</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$240</div>
                                <div class="text-xs text-green-600 font-semibold">+6%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Activations</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">3.7k</div>
                                <div class="text-xs text-red-600 font-semibold">-35%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">M1 Retention</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">14.1%</div>
                                <div class="text-xs text-green-600 font-semibold">+1%</div>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">üí™ Strengths</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ Nov/Dec 2024: 26K orders, $8M revenue (40% annual)</li>
                                    <li>‚Ä¢ 5.0 YTD guest satisfaction rating</li>
                                    <li>‚Ä¢ 11 stores fully digitized catering program</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">‚ö†Ô∏è Risks & Actions</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ ECRS POS reconciliation issues - custom report submitted</li>
                                    <li>‚Ä¢ API access limitations for reporting</li>
                                    <li>‚Ä¢ In-person QBR pending</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Add more account cards here... -->
                    <!-- I'll add a few key ones -->

                    <!-- Eataly -->
                    <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow p-6 border-l-4 border-green-500">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h4 class="text-2xl font-bold text-gray-800 mb-2" contenteditable="false">Eataly</h4>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">‚≠ê Top Performer</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">12 Sites</span>
                                    <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold">52.4% Retention</span>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-4">
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">GTV</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$81.5K</div>
                                <div class="text-xs text-green-600 font-semibold">+26%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Orders</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">1,200</div>
                                <div class="text-xs text-green-600 font-semibold">+8%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Basket</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$404</div>
                                <div class="text-xs text-green-600 font-semibold">+18%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Activations</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">527</div>
                                <div class="text-xs text-red-600 font-semibold">-8%</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">M1 Retention</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">52.4%</div>
                                <div class="text-xs text-gray-600 font-semibold">0%</div>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">üí™ Strengths</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ Exceptional 52.4% M1 retention - top tier loyalty</li>
                                    <li>‚Ä¢ 12 sites (10 US, 2 CA) with strong B2B portals</li>
                                    <li>‚Ä¢ Premium basket $404 (+18% YoY growth)</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">üéØ Opportunities</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ Scale corporate portals across all cities</li>
                                    <li>‚Ä¢ Eataly Caffe concept for rapid replication</li>
                                    <li>‚Ä¢ Expand IC App assortment (catering+bakery+floral)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Balducci's - Critical -->
                    <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow p-6 border-l-4 border-red-500">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h4 class="text-2xl font-bold text-gray-800 mb-2" contenteditable="false">Balducci's (Albertsons)</h4>
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold animate-pulse">üö® CRITICAL</span>
                                    <span class="px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-semibold">V2‚ÜíV3 Migration Needed</span>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-4">
                            <div class="text-center p-3 bg-red-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">GTV</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$44.2K</div>
                                <div class="text-xs text-red-600 font-semibold">-37%</div>
                            </div>
                            <div class="text-center p-3 bg-red-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Orders</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">969</div>
                                <div class="text-xs text-red-600 font-semibold">-29%</div>
                            </div>
                            <div class="text-center p-3 bg-red-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Basket</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">$273.5</div>
                                <div class="text-xs text-red-600 font-semibold">-12%</div>
                            </div>
                            <div class="text-center p-3 bg-red-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">Activations</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">396</div>
                                <div class="text-xs text-red-600 font-semibold">-60%</div>
                            </div>
                            <div class="text-center p-3 bg-red-50 rounded-lg">
                                <div class="text-sm text-gray-500 mb-1">M1 Retention</div>
                                <div class="text-xl font-bold text-gray-800" contenteditable="false">17.1%</div>
                                <div class="text-xs text-red-600 font-semibold">-5%</div>
                            </div>
                        </div>

                        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
                            <h5 class="font-bold text-red-800 mb-2">üö® IMMEDIATE ACTION REQUIRED</h5>
                            <p class="text-sm text-red-700 font-semibold" contenteditable="false">All KPIs showing significant YoY deterioration. Urgent account health review and intervention plan needed.</p>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">‚ö†Ô∏è Critical Issues</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ GTV down 37% YoY - severe revenue decline</li>
                                    <li>‚Ä¢ Activations down 60% - acquisition failure</li>
                                    <li>‚Ä¢ Legacy V2 cart increasing reconciliation risk</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-2">üéØ Action Plan</h5>
                                <ul class="text-sm text-gray-600 space-y-1" contenteditable="false">
                                    <li>‚Ä¢ V3 cart migration + Axway SFTP cutover</li>
                                    <li>‚Ä¢ Customer reactivation & win-back campaign</li>
                                    <li>‚Ä¢ Weekly account health reviews</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation to full details -->
                    <div class="text-center p-6">
                        <a href="#all-accounts" class="inline-block px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-indigo-700 transition">
                            View All 16 Account Details ‚Üí
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="gradient-bg text-white py-8 mt-12">
            <div class="max-w-7xl mx-auto px-6 text-center">
                <p class="text-lg font-semibold mb-2">FoodStorm Monthly Business Review - February 2026</p>
                <p class="text-purple-200">CSM DRI: Sonali Ahuja | Confidential - Internal Use Only</p>
                <p class="text-sm text-purple-200 mt-4">Last Updated: <span id="lastUpdate"></span></p>
            </div>
        </div>
    </div>

    <script>
        // Password protection
        const correctPassword = "foodstorm2026";
        let editMode = false;

        function checkPassword() {
            const password = document.getElementById('password').value;
            if (password === correctPassword) {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                sessionStorage.setItem('authenticated', 'true');
                initDashboard();
            } else {
                document.getElementById('error').classList.remove('hidden');
            }
        }

        function logout() {
            sessionStorage.removeItem('authenticated');
            document.getElementById('login-screen').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('password').value = '';
        }

        // Check if already authenticated
        if (sessionStorage.getItem('authenticated') === 'true') {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            initDashboard();
        }

        // Edit Mode functionality
        function toggleEditMode() {
            editMode = !editMode;
            const editableElements = document.querySelectorAll('[contenteditable="false"]');
            const banner = document.getElementById('edit-banner');

            editableElements.forEach(el => {
                el.contentEditable = editMode;
                if (editMode) {
                    el.addEventListener('blur', saveEdit);
                }
            });

            if (editMode) {
                banner.classList.remove('hidden');
            } else {
                banner.classList.add('hidden');
            }
        }

        function saveEdit(e) {
            const key = e.target.getAttribute('data-key');
            const value = e.target.textContent;
            if (key) {
                localStorage.setItem(key, value);
                console.log('Saved:', key, value);
            }
        }

        function loadSavedEdits() {
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                const saved = localStorage.getItem(key);
                if (saved) {
                    el.textContent = saved;
                }
            });
        }

        function initDashboard() {
            loadSavedEdits();
            createCharts();
            updateLastUpdate();
        }

        function updateLastUpdate() {
            const now = new Date();
            document.getElementById('lastUpdate').textContent = now.toLocaleString();
        }

        function createCharts() {
            // Performance Chart
            const perfCtx = document.getElementById('performanceChart');
            new Chart(perfCtx, {
                type: 'bar',
                data: {
                    labels: ['Uncle Giuseppe\'s', 'Eataly', 'Market32', 'Coborn\'s', 'Roche Bros', 'Balducci\'s'],
                    datasets: [{
                        label: 'GTV ($K)',
                        data: [278, 81.5, 37, 3.2, 150, 44.2],
                        backgroundColor: [
                            'rgba(99, 102, 241, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(168, 85, 247, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // Health Status Chart
            const healthCtx = document.getElementById('healthChart');
            new Chart(healthCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Healthy & Growing', 'Stable', 'Needs Attention', 'Critical'],
                    datasets: [{
                        data: [5, 7, 3, 1],
                        backgroundColor: [
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }
    </script>
</body>
</html>
